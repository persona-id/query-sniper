#!/usr/bin/env bash
set -eou pipefail

# Install system dependencies.
sudo apt-get update
sudo apt-get remove -y locate man-db
sudo apt-get autoremove -y
sudo apt-get upgrade -y
sudo apt-get install -y --no-install-recommends mariadb-client curl iputils-ping

# Install golangci-lint and goreleaser. We wanted to use the `go mod tools` functionality,
# but they recommend against this: https://golangci-lint.run/welcome/install/#install-from-sources
# FIXME: this is slooooooow. maybe just download the binaries since the packages aren't in apt.
go install github.com/golangci/golangci-lint/v2/cmd/golangci-lint@v2
go install github.com/goreleaser/goreleaser/v2@latest
go install fillmore-labs.com/errortype@latest
